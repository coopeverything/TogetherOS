---
# Prometheus Configuration for TogetherOS
# Scrapes metrics from the Next.js app

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    monitor: 'togetheros'
    environment: 'production'

# Scrape configurations
scrape_configs:
  # TogetherOS App Metrics
  - job_name: 'togetheros-app'
    scrape_interval: 10s
    static_configs:
      - targets:
          # Update with your actual host
          # If running Docker, use host.docker.internal:3000
          # If running on VPS, use localhost:3000 or IP address
          - 'host.docker.internal:3000'
    metrics_path: '/api/metrics'
    scheme: http

  # Prometheus Self-Monitoring
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # Node Exporter (optional - uncomment if you install it)
  # - job_name: 'node'
  #   static_configs:
  #     - targets: ['node-exporter:9100']
