#!/bin/sh

# Pre-commit hook to sort exports and prevent merge conflicts
# This prevents 80% of conflicts in high-velocity development

# Run the export sorting script
node scripts/sort-exports.js

# Add any modified index files back to the commit
git add packages/*/src/**/index.ts packages/*/src/**/index.tsx apps/*/src/**/index.ts apps/*/src/**/index.tsx 2>/dev/null || true

# Exit successfully to allow commit to proceed
exit 0
