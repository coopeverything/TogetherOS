{
  "version": "1.0.0",
  "description": "Cross-session error tracking for pattern detection and knowledge base updates",
  "errors": [
    {
      "id": "err-003",
      "signature": {
        "type": "filesystem",
        "code": "NESTED_CLONE",
        "pattern": "Nested git clone found in working directory"
      },
      "occurrences": [
        {
          "session_date": "2025-12-01",
          "commit_sha": null,
          "file": "TogetherOS/",
          "message": "Found TogetherOS/ directory inside TogetherOS repo - a nested clone",
          "context": "Session start - checking git status showed untracked TogetherOS/ directory"
        }
      ],
      "status": "watching",
      "first_seen": "2025-12-01T21:35:00Z",
      "last_seen": "2025-12-01T21:35:00Z",
      "occurrence_count": 1
    }
  ],
  "resolved_patterns": [
    {
      "id": "err-001",
      "signature": {
        "type": "git",
        "code": "STASH_UNTRACKED",
        "pattern": "git stash does not include untracked files by default"
      },
      "resolution": "Added 'Stashing with Untracked Files' section to ci-cd-discipline.md. Solution: Always use `git stash push -u` to include untracked files.",
      "kb_file_updated": ".claude/knowledge/ci-cd-discipline.md",
      "resolved_date": "2025-12-01T22:10:00Z",
      "source": "https://git-scm.com/docs/git-stash"
    },
    {
      "id": "err-002",
      "signature": {
        "type": "git",
        "code": "WRONG_BRANCH_CONTEXT",
        "pattern": "Started work on wrong branch, had to switch mid-session"
      },
      "resolution": "Added 'Pre-Work Branch Verification (MANDATORY)' section to ci-cd-discipline.md. Solution: Always run `git branch --show-current` and `git status` before starting work.",
      "kb_file_updated": ".claude/knowledge/ci-cd-discipline.md",
      "resolved_date": "2025-12-01T22:10:00Z",
      "source": "https://gist.github.com/calaway/ea880263b0c0495bb00ee877f001dc59"
    },
    {
      "id": "err-004",
      "signature": {
        "type": "typescript",
        "code": "TS2307_RELATIVE_MONOREPO",
        "pattern": "Relative path imports to packages/* fail in CI despite working locally"
      },
      "resolution": "Added anti-pattern entry and session reference to togetheros-kb.md. Solution: ALWAYS use package aliases (@togetheros/db) for internal monorepo imports, NEVER relative paths to packages/*/src/*.",
      "kb_file_updated": ".claude/knowledge/togetheros-kb.md",
      "resolved_date": "2025-12-03T17:10:00Z",
      "source": "https://nx.dev/blog/managing-ts-packages-in-monorepo"
    },
    {
      "id": "err-005",
      "signature": {
        "type": "process",
        "code": "FIX_WITHOUT_VERIFICATION",
        "pattern": "Applied fix without verifying it actually solved the reported problem"
      },
      "occurrences": [
        {
          "session_date": "2025-12-03",
          "commit_sha": "94d111a",
          "file": null,
          "message": "Did ad-hoc fixes without following yolo1 skill. Missed deploy failure for ~30 minutes.",
          "context": "UX audit and proposals API fix done without proper deploy monitoring. User had to ask if deploy triggered."
        },
        {
          "session_date": "2025-12-03",
          "commit_sha": "40cc226",
          "file": "packages/ui/src/governance/ProposalCard.tsx",
          "message": "Fixed wrong component. User reported Status/Scope illegible, I fixed ProposalCard status badges instead of ProposalList filter labels.",
          "context": "User reported dark mode issue in 'status and scope fields'. Fixed ProposalCard.tsx, but actual issue was in ProposalList.tsx filter controls."
        }
      ],
      "resolution": "Added 'UX Fix Verification Protocol' section to togetheros-kb.md. Solution: ALWAYS trace user-reported UI element to exact source component, verify fix matches report before committing.",
      "kb_file_updated": ".claude/knowledge/togetheros-kb.md",
      "resolved_date": "2025-12-03T18:40:00Z",
      "source": "https://www.applause.com/blog/bug-fix-verification-speed-up-development/"
    },
    {
      "id": "err-006",
      "signature": {
        "type": "process",
        "code": "INCOMPLETE_BRANCH_ANALYSIS",
        "pattern": "Analyzed only PRs when asked about branches AND PRs, missed squash-merged branches"
      },
      "occurrences": [
        {
          "session_date": "2025-12-04",
          "commit_sha": null,
          "file": null,
          "message": "User asked to check 'which branches and PRs are safe to merge'. Only checked open PRs, missed feature/onboarding-mystery-unlock which had commits ahead but was already squash-merged via PR #361.",
          "context": "Branch appeared in 'git branch --no-merged' output but was actually merged via squash. Should have cross-referenced with gh pr list --state all."
        }
      ],
      "resolution": "Added 'Branch/PR Merge Analysis Protocol' section to ci-cd-discipline.md. Solution: Always cross-reference 'not merged' branches with PR status using `gh pr list --head <branch> --state all` to detect squash-merged branches.",
      "kb_file_updated": ".claude/knowledge/ci-cd-discipline.md",
      "resolved_date": "2025-12-04T02:50:00Z",
      "source": "https://stackoverflow.com/questions/19308790/git-branch-merged-no-merged-and-squash-option"
    },
    {
      "id": "err-007",
      "signature": {
        "type": "config",
        "code": "SKILL_NOT_REGISTERED",
        "pattern": "Skill exists in .claude/skills/ but not in settings.local.json permissions"
      },
      "occurrences": [
        {
          "session_date": "2025-12-04",
          "commit_sha": null,
          "file": ".claude/skills/error-learner/SKILL.md",
          "message": "Skill(error-learner) invocation failed - skill exists but wasn't registered in settings.local.json allow list",
          "context": "User asked to use error-learner skill. Skill tool returned 'Unknown skill'. Had to manually read SKILL.md and execute steps."
        }
      ],
      "resolution": "Added Skill(error-learner) and Skill(ux-designer) to .claude/settings.local.json permissions allow list. Note: settings.local.json is gitignored (local config per machine).",
      "kb_file_updated": ".claude/settings.local.json (local, not tracked)",
      "resolved_date": "2025-12-04T03:15:00Z",
      "source": null
    }
  ],
  "last_updated": "2025-12-04T03:15:00Z"
}

